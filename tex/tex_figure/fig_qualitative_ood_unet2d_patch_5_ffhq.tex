\documentclass[border=0pt]{standalone}
% The standalone class creates a PDF cropped to content
% border=2mm adds a small margin around the content

\usepackage{graphicx}
\usepackage{tikz} % If you want to create diagrams

\begin{document}
    \centering
    \renewcommand{\arraystretch}{0.25} % spacing between rows
    \setlength{\tabcolsep}{0.3pt}     % spacing between columns

    \def\size{1.25cm}
    \def\root{/home/minhhai/Works/phd_project/analytical_mmse/code/illustration_script/ood}
    \def\unet{localequivunet2dcondmodel_patch}
    \def\ffhq{FFHQ_images32x32_subset_10000}
    \def\train{on_train_nearest}

    \def\denoising{denoising}
    \def\inpainting{inpainting_center_15}
    \def\deconvolution{convolution_gaussian_1.0}
    \def\sigmas{0.0500, 0.2000, 0.3000}
    % \def\sigmass{0.0200, 0.2000, 0.3000, 0.5000}

    \newcommand{\meas}[5]{%
        \foreach \sigma in \sigmas {%
            \includegraphics[width=\size]{\root/#1/images/#2_#3_#4/sigma-\sigma_y_#5.png}%
        }%
        }
    \newcommand{\analytic}[5]{%
        \foreach \sigma in \sigmas {%
            \includegraphics[width=\size]{\root/#1/images/#2_#3_#4/sigma-\sigma_x_analytical_#5.png}%
        }%
        }
    \newcommand{\neural}[5]{%
        \foreach \sigma in \sigmas {%
            \includegraphics[width=\size]{\root/#1/images/#2_#3_#4/sigma-\sigma_x_neural_#5.png}%
        }%
        }
    \newcommand{\legend}[1]{
        \rotatebox{90}{\makebox[\size][c]{\centering \scriptsize #1}}%
        }

    \begin{tabular}{@{}l@{}c@{\hspace{1pt}}c@{\hspace{1pt}}c@{}}
    % \begin{tabular}{@{}l@{}c@{\hspace{1pt}}c@{\hspace{1pt}}c@{}}
    % \begin{tabular}{@{}r@{}c@{\hspace{1pt}}c@{\hspace{1pt}}c@{}}
    % \begin{tabular}{cccc}
        \centering
        % ------------------------------------------------------------------------
        & Denoising & Inpainting & Deconvolution  \\
        $\sigma$ 
            & {\footnotesize \hfill  $0.05$ \hfill \hfill $0.2$ \hfill \hfill $0.3$ \hfill} 
            & {\footnotesize \hfill $0.05$ \hfill \hfill $0.2$ \hfill \hfill $0.3$ \hfill} 
            & {\footnotesize \hfill $0.05$ \hfill \hfill $0.2$ \hfill \hfill $0.3$ \hfill} \\
        % ------------------------- FFHQ ----------------------------------------
        \legend{Meas.}
                    & \meas{\unet_5}{\denoising}{\ffhq}{\train}{001} 
                    & \meas{\unet_5}{\inpainting}{\ffhq}{\train}{002} 
                    & \meas{\unet_5}{\deconvolution}{\ffhq}{\train}{003}\\
        %    ----------------------  ANALYTIC  --------------------------------
        \legend{Analytic} 
                        & \analytic{\unet_5}{\denoising}{\ffhq}{\train}{001} 
                        & \analytic{\unet_5}{\inpainting}{\ffhq}{\train}{002} 
                        & \analytic{\unet_5}{\deconvolution}{\ffhq}{\train}{003} \\
        %    --------------------  UNET2D  --------------------------------
        \legend{UNet2D} 
                        & \neural{\unet_5}{\denoising}{\ffhq}{\train}{001} 
                        & \neural{\unet_5}{\inpainting}{\ffhq}{\train}{002} 
                        & \neural{\unet_5}{\deconvolution}{\ffhq}{\train}{003}\\
    \end{tabular}
\end{document}
